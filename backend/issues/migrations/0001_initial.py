# Generated by Django 4.2.7 on 2025-05-13 06:47

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Course',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(choices=[('BSCS', 'Bachelor of Science in Computer Science'), ('BIT', 'Bachelor of Information Technology'), ('BSE', 'Bachelor of Software Engineering'), ('BBA', 'Bachelor of Business Administration'), ('LLB', 'Bachelor of Laws'), ('BME', 'Bachelor of Mechanical Engineering'), ('BEE', 'Bachelor of Electrical Engineering'), ('BCE', 'Bachelor of Civil Engineering'), ('BFA', 'Bachelor of Fine Arts'), ('BEd', 'Bachelor of Education'), ('BSc', 'Bachelor of Science'), ('BPH', 'Bachelor of Public Health'), ('BVM', 'Bachelor of Veterinary Medicine'), ('BAG', 'Bachelor of Agricultural Sciences'), ('BNS', 'Bachelor of Nursing Sciences'), ('BPHARM', 'Bachelor of Pharmacy'), ('BDS', 'Bachelor of Dental Surgery'), ('BSTAT', 'Bachelor of Statistics'), ('BPS', 'Bachelor of Procurement and Supply Chain Management'), ('BHRM', 'Bachelor of Human Resource Management'), ('BPA', 'Bachelor of Public Administration'), ('BDEV', 'Bachelor of Development Studies'), ('BPSY', 'Bachelor of Psychology'), ('BAS', 'Bachelor of Arts in Social Sciences'), ('BAE', 'Bachelor of Arts in Economics'), ('BMC', 'Bachelor of Mass Communication'), ('BIS', 'Bachelor of Information Systems'), ('BENV', 'Bachelor of Environmental Science'), ('BLS', 'Bachelor of Library and Information Science'), ('BAGRIC', 'Bachelor of Agricultural Engineering'), ('BFOOD', 'Bachelor of Food Science and Technology'), ('BFORE', 'Bachelor of Forestry'), ('BTOUR', 'Bachelor of Tourism'), ('BHM', 'Bachelor of Hospitality Management'), ('BARCH', 'Bachelor of Architecture'), ('BPLAN', 'Bachelor of Urban and Regional Planning')], max_length=255)),
                ('code', models.CharField(choices=[('BSCS', 'BSCS'), ('BIT', 'BIT'), ('BSE', 'BSE'), ('BBA', 'BBA'), ('LLB', 'LLB'), ('BME', 'BME'), ('BEE', 'BEE'), ('BCE', 'BCE'), ('BFA', 'BFA'), ('BEd', 'BEd'), ('BSc', 'BSc'), ('BPH', 'BPH'), ('BVM', 'BVM'), ('BAG', 'BAG'), ('BNS', 'BNS'), ('BPHARM', 'BPHARM'), ('BDS', 'BDS'), ('BSTAT', 'BSTAT'), ('BPS', 'BPS'), ('BHRM', 'BHRM'), ('BPA', 'BPA'), ('BDEV', 'BDEV'), ('BPSY', 'BPSY'), ('BAS', 'BAS'), ('BAE', 'BAE'), ('BMC', 'BMC'), ('BIS', 'BIS'), ('BENV', 'BENV'), ('BLS', 'BLS'), ('BAGRIC', 'BAGRIC'), ('BFOOD', 'BFOOD'), ('BFORE', 'BFORE'), ('BTOUR', 'BTOUR'), ('BHM', 'BHM'), ('BARCH', 'BARCH'), ('BPLAN', 'BPLAN')], max_length=20, unique=True)),
                ('assigned_lecturer', models.ForeignKey(blank=True, limit_choices_to={'role': 'lecturer'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_courses', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Issue',
            fields=[
                ('issue_id', models.AutoField(primary_key=True, serialize=False)),
                ('issue_type', models.CharField(choices=[('missing_marks', 'Missing Marks'), ('wrong_registration_number', 'Wrong Registration Number'), ('wrong_marks', 'Wrong Marks'), ('other', 'Other')], max_length=50)),
                ('description', models.TextField(max_length=250)),
                ('support_file', models.FileField(blank=True, null=True, upload_to='issue_support_files/')),
                ('status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('resolved', 'Resolved')], default='open', max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('department', models.CharField(choices=[('cocis', 'College of Computing and Information Sciences (COCIS)'), ('cedat', 'College of Engineering, Design, Art and Technology (CEDAT)'), ('chuss', 'College of Humanities and Social Sciences (CHUSS)'), ('conas', 'College of Natural Sciences (CONAS)'), ('law', 'School of Law'), ('cobams', 'College of Business and Management Sciences (COBAMS)'), ('cees', 'College of Education and External Studies (CEES)'), ('cahs', 'College of Agricultural and Environmental Sciences (CAES)'), ('chs', 'College of Health Sciences (CHS)'), ('vet', 'College of Veterinary Medicine, Animal Resources and Biosecurity (COVAB)')], default=None, max_length=100)),
                ('assigned_to', models.ForeignKey(blank=True, limit_choices_to={'role': 'lecturer'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_issues', to=settings.AUTH_USER_MODEL)),
                ('course', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='course_issues', to='issues.course')),
                ('student', models.ForeignKey(blank=True, limit_choices_to={'role': 'student'}, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='student_issues', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Issue',
                'verbose_name_plural': 'Issues',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('notification_id', models.AutoField(primary_key=True, serialize=False)),
                ('message', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('issue', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='issue_notifications', to='issues.issue')),
                ('recipient', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='user_notifications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Notification',
                'verbose_name_plural': 'Notifications',
            },
        ),
        migrations.CreateModel(
            name='Assignment',
            fields=[
                ('title', models.CharField(max_length=255)),
                ('due_date', models.DateField()),
                ('assignment_id', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='issues.course')),
            ],
        ),
        migrations.CreateModel(
            name='Enrollment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('enrolled_at', models.DateTimeField(auto_now_add=True)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='issues.course')),
                ('student', models.ForeignKey(limit_choices_to={'role': 'student'}, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'unique_together': {('student', 'course')},
            },
        ),
    ]
